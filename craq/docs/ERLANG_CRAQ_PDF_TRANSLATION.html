<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Erlang CRAQ PDF æ–‡æ¡£ç¿»è¯‘ä¸è§£é‡Š</title>
    <script src="https://cdn.jsdelivr.net/npm/html-docx-js/dist/html-docx.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 40px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #2c3e50;
            padding-bottom: 20px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 1.1em;
        }
        
        .download-btn {
            display: inline-block;
            background-color: #3498db;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin: 20px 0;
            transition: background-color 0.3s;
        }
        
        .download-btn:hover {
            background-color: #2980b9;
        }
        
        .section {
            margin-bottom: 40px;
            page-break-inside: avoid;
        }
        
        .section h2 {
            color: #2c3e50;
            font-size: 1.8em;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
            padding-left: 15px;
        }
        
        .section h3 {
            color: #34495e;
            font-size: 1.3em;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        .section h4 {
            color: #7f8c8d;
            font-size: 1.1em;
            margin-top: 15px;
            margin-bottom: 8px;
        }
        
        .original-text {
            background-color: #f8f9fa;
            border-left: 4px solid #28a745;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .translation {
            background-color: #e8f4f8;
            border-left: 4px solid #3498db;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        
        .explanation {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
        }
        
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 15px 0;
            border-radius: 3px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .highlight {
            background-color: #fff3cd;
            padding: 2px 6px;
            border-radius: 3px;
            font-weight: bold;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        table th {
            background-color: #34495e;
            color: white;
            padding: 12px;
            text-align: left;
            font-weight: bold;
        }
        
        table td {
            border: 1px solid #ddd;
            padding: 12px;
        }
        
        table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .mermaid-container {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #7f8c8d;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
<!-- CRAQ æ–‡æ¡£å¯¼èˆªæ  -->
<div id="craq-nav" style="
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(15, 15, 35, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding: 12px 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
">
    <a href="/craq/" style="
        color: #00d4ff;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
    " onmouseover="this.style.color='#7c3aed'" onmouseout="this.style.color='#00d4ff'">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
        è¿”å› CRAQ æ–‡æ¡£é¦–é¡µ
    </a>
    
    <div style="flex: 1;"></div>
    
    <a href="/" style="
        color: #888;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.3s ease;
    " onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#888'">
        åšå®¢é¦–é¡µ
    </a>
</div>

<!-- ä¸ºå¯¼èˆªæ æ·»åŠ é¡¶éƒ¨é—´è· -->
<div style="height: 60px;"></div>

    <div class="container">
        <div class="header">
            <h1>ğŸ“„ Erlang CRAQ PDF æ–‡æ¡£ç¿»è¯‘ä¸è§£é‡Š</h1>
            <p>Chain Replication with Apportioned Query - é«˜ååé‡åŸå­å­˜å‚¨ç³»ç»Ÿ</p>
            <button class="download-btn" onclick="exportToWord()">ğŸ“¥ ä¸‹è½½ä¸º Word æ–‡æ¡£</button>
        </div>
        
        <!-- ç¬¬ä¸€é¡µï¼šç³»ç»Ÿä»‹ç» -->
        <div class="section">
            <h2>ç¬¬ä¸€é¡µï¼šç³»ç»Ÿä»‹ç»</h2>
            
            <h3>åŸæ–‡å†…å®¹</h3>
            <div class="original-text">
                <strong>Chain Replication with Apportioned Query</strong><br>
                <strong>High Throughput Atomic Store</strong><br><br>
                
                <strong>Introduction</strong><br>
                It is an atomic, high throughput, resilient distributed store. It will always be consistent and available despite of server failures (CA).<br><br>
                
                It assumes that a point-to-point communication is always available between all the servers (partition intolerant). A failure detection mechanism is setup to detect any server failure and system will continue to work as long as at least one server is available.<br><br>
                
                Clients can read and write concurrently using any server thus making it a high throughput store. It prevents concurrent update on the same object to maintain consistency.<br><br>
                
                It solves the read-inversion problem and prevents any read from returning an old value after an earlier read returned a new value.
            </div>
            
            <h3>ä¸­æ–‡ç¿»è¯‘</h3>
            <div class="translation">
                <strong>é“¾å¼å¤åˆ¶ä¸åˆ†æ•£æŸ¥è¯¢</strong><br>
                <strong>é«˜ååé‡åŸå­å­˜å‚¨ç³»ç»Ÿ</strong><br><br>
                
                <strong>ç³»ç»Ÿä»‹ç»</strong><br>
                è¿™æ˜¯ä¸€ä¸ªåŸå­æ€§çš„ã€é«˜ååé‡çš„ã€å…·æœ‰å¼¹æ€§çš„åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿã€‚å®ƒåœ¨æœåŠ¡å™¨æ•…éšœçš„æƒ…å†µä¸‹å§‹ç»ˆä¿æŒä¸€è‡´æ€§å’Œå¯ç”¨æ€§ï¼ˆCAï¼‰ã€‚<br><br>
                
                ç³»ç»Ÿå‡è®¾æ‰€æœ‰æœåŠ¡å™¨ä¹‹é—´å§‹ç»ˆå­˜åœ¨ç‚¹å¯¹ç‚¹é€šä¿¡ï¼ˆä¸å®¹å¿åˆ†åŒºï¼‰ã€‚ç³»ç»Ÿè®¾ç½®äº†æ•…éšœæ£€æµ‹æœºåˆ¶æ¥æ£€æµ‹ä»»ä½•æœåŠ¡å™¨æ•…éšœï¼Œåªè¦è‡³å°‘æœ‰ä¸€ä¸ªæœåŠ¡å™¨å¯ç”¨ï¼Œç³»ç»Ÿå°±ä¼šç»§ç»­å·¥ä½œã€‚<br><br>
                
                å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ä»»ä½•æœåŠ¡å™¨å¹¶å‘åœ°è¿›è¡Œè¯»å†™æ“ä½œï¼Œä»è€Œä½¿å…¶æˆä¸ºé«˜ååé‡å­˜å‚¨ç³»ç»Ÿã€‚å®ƒé˜²æ­¢å¯¹åŒä¸€å¯¹è±¡çš„å¹¶å‘æ›´æ–°ä»¥ç»´æŠ¤ä¸€è‡´æ€§ã€‚<br><br>
                
                å®ƒè§£å†³äº†è¯»åæ¼”é—®é¢˜ï¼Œé˜²æ­¢åœ¨æ—©æœŸè¯»å–è¿”å›æ–°å€¼åï¼Œä»»ä½•è¯»å–è¿”å›æ—§å€¼ã€‚
            </div>
            
            <h3>è¯¦ç»†è§£é‡Š</h3>
            <div class="explanation">
                <h4>ğŸ¯ æ ¸å¿ƒç‰¹æ€§</h4>
                <ul>
                    <li><strong>åŸå­æ€§ï¼ˆAtomicï¼‰</strong>ï¼šæ‰€æœ‰æ“ä½œè¦ä¹ˆå®Œå…¨æˆåŠŸï¼Œè¦ä¹ˆå®Œå…¨å¤±è´¥</li>
                    <li><strong>é«˜ååé‡ï¼ˆHigh Throughputï¼‰</strong>ï¼šæ”¯æŒå¤§é‡å¹¶å‘è¯»å†™æ“ä½œ</li>
                    <li><strong>å¼¹æ€§ï¼ˆResilientï¼‰</strong>ï¼šèƒ½å¤Ÿå®¹å¿æœåŠ¡å™¨æ•…éšœå¹¶è‡ªåŠ¨æ¢å¤</li>
                    <li><strong>CA ç‰¹æ€§</strong>ï¼šåœ¨ CAP å®šç†ä¸­é€‰æ‹©äº†ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰å’Œå¯ç”¨æ€§ï¼ˆAvailabilityï¼‰</li>
                </ul>
                
                <h4>ğŸ”§ ç³»ç»Ÿå‡è®¾</h4>
                <ul>
                    <li><strong>ç½‘ç»œå‡è®¾</strong>ï¼šå‡è®¾æœåŠ¡å™¨é—´é€šä¿¡å§‹ç»ˆå¯ç”¨ï¼ˆä¸å®¹å¿ç½‘ç»œåˆ†åŒºï¼‰</li>
                    <li><strong>æ•…éšœæ¨¡å‹</strong>ï¼šåªå¤„ç†æœåŠ¡å™¨æ•…éšœï¼Œä¸å¤„ç†ç½‘ç»œåˆ†åŒº</li>
                    <li><strong>æœ€å°å¯ç”¨æ€§</strong>ï¼šè‡³å°‘éœ€è¦ä¸€ä¸ªæœåŠ¡å™¨å¯ç”¨</li>
                </ul>
                
                <h4>ğŸ’¡ å…³é”®åˆ›æ–°</h4>
                <ul>
                    <li><strong>å¹¶å‘è®¿é—®</strong>ï¼šå®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ä»»ä½•æœåŠ¡å™¨è¿›è¡Œè¯»å†™</li>
                    <li><strong>å†²çªé¿å…</strong>ï¼šé˜²æ­¢å¯¹åŒä¸€å¯¹è±¡çš„å¹¶å‘æ›´æ–°</li>
                    <li><strong>è¯»ä¸€è‡´æ€§</strong>ï¼šè§£å†³è¯»åæ¼”é—®é¢˜ï¼Œç¡®ä¿è¯»å–çš„å•è°ƒæ€§</li>
                </ul>
            </div>
        </div>
        
        <!-- ç¬¬äºŒé¡µï¼šç³»ç»Ÿæ¶æ„ -->
        <div class="section">
            <h2>ç¬¬äºŒé¡µï¼šç³»ç»Ÿæ¶æ„</h2>
            
            <h3>åŸæ–‡å†…å®¹</h3>
            <div class="original-text">
                N1 â€¦ Ni are system servers and they maintain all the state information needed to facilitate the CRAQ features.<br><br>
                
                D1 â€¦ Di are data servers and they facilitate the persistence of data. It is a schema-less, column-oriented data store.<br><br>
                
                Clients can interact with any system server through a given API. System servers interact with their local data server for query and persistence of data.<br><br>
                
                System servers are arranged in a ring and they communicate with their successor (clock-wise) in pre-write phase and with their predecessor (anti clock-wise) in write phase.<br><br>
                
                In this implementation, there is no fixed head/tail node but for every update message, the originator node becomes the head node and the predecessor of the originator node becomes tail node thus clients can use any node to make updates.
            </div>
            
            <h3>ä¸­æ–‡ç¿»è¯‘</h3>
            <div class="translation">
                N1 â€¦ Ni æ˜¯ç³»ç»ŸæœåŠ¡å™¨ï¼Œå®ƒä»¬ç»´æŠ¤ä¿ƒè¿› CRAQ åŠŸèƒ½æ‰€éœ€çš„æ‰€æœ‰çŠ¶æ€ä¿¡æ¯ã€‚<br><br>
                
                D1 â€¦ Di æ˜¯æ•°æ®æœåŠ¡å™¨ï¼Œå®ƒä»¬è´Ÿè´£æ•°æ®çš„æŒä¹…åŒ–ã€‚è¿™æ˜¯ä¸€ä¸ªæ— æ¨¡å¼çš„ã€é¢å‘åˆ—çš„æ•°æ®å­˜å‚¨ã€‚<br><br>
                
                å®¢æˆ·ç«¯å¯ä»¥é€šè¿‡ç»™å®šçš„ API ä¸ä»»ä½•ç³»ç»ŸæœåŠ¡å™¨äº¤äº’ã€‚ç³»ç»ŸæœåŠ¡å™¨ä¸å…¶æœ¬åœ°æ•°æ®æœåŠ¡å™¨äº¤äº’ä»¥è¿›è¡Œæ•°æ®æŸ¥è¯¢å’ŒæŒä¹…åŒ–ã€‚<br><br>
                
                ç³»ç»ŸæœåŠ¡å™¨æ’åˆ—æˆç¯å½¢ï¼Œå®ƒä»¬åœ¨é¢„å†™é˜¶æ®µä¸å…¶åç»§èŠ‚ç‚¹ï¼ˆé¡ºæ—¶é’ˆï¼‰é€šä¿¡ï¼Œåœ¨å†™é˜¶æ®µä¸å…¶å‰é©±èŠ‚ç‚¹ï¼ˆé€†æ—¶é’ˆï¼‰é€šä¿¡ã€‚<br><br>
                
                åœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œæ²¡æœ‰å›ºå®šçš„å¤´/å°¾èŠ‚ç‚¹ï¼Œä½†å¯¹äºæ¯ä¸ªæ›´æ–°æ¶ˆæ¯ï¼Œå‘èµ·èŠ‚ç‚¹æˆä¸ºå¤´èŠ‚ç‚¹ï¼Œå‘èµ·èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹æˆä¸ºå°¾èŠ‚ç‚¹ï¼Œå› æ­¤å®¢æˆ·ç«¯å¯ä»¥ä½¿ç”¨ä»»ä½•èŠ‚ç‚¹è¿›è¡Œæ›´æ–°ã€‚
            </div>
            
            <h3>ç³»ç»Ÿæ¶æ„å›¾</h3>
            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph "å®¢æˆ·ç«¯å±‚"
                        C1[Client 1]
                        C2[Client 2]
                    end
                    
                    subgraph "ç³»ç»ŸæœåŠ¡å™¨ç¯"
                        N1[N1<br/>ç³»ç»ŸæœåŠ¡å™¨]
                        N2[N2<br/>ç³»ç»ŸæœåŠ¡å™¨]
                        N3[N3<br/>ç³»ç»ŸæœåŠ¡å™¨]
                        N4[N4<br/>ç³»ç»ŸæœåŠ¡å™¨]
                        N5[N5<br/>ç³»ç»ŸæœåŠ¡å™¨]
                    end
                    
                    subgraph "æ•°æ®æœåŠ¡å™¨å±‚"
                        D1[D1<br/>æ•°æ®æœåŠ¡å™¨]
                        D2[D2<br/>æ•°æ®æœåŠ¡å™¨]
                        D3[D3<br/>æ•°æ®æœåŠ¡å™¨]
                        D4[D4<br/>æ•°æ®æœåŠ¡å™¨]
                        D5[D5<br/>æ•°æ®æœåŠ¡å™¨]
                    end
                    
                    %% å®¢æˆ·ç«¯è¿æ¥
                    C1 --> N1
                    C1 --> N3
                    C2 --> N2
                    C2 --> N4
                    
                    %% ç¯å½¢è¿æ¥ï¼ˆé¡ºæ—¶é’ˆï¼‰
                    N1 -->|é¢„å†™é˜¶æ®µ| N2
                    N2 -->|é¢„å†™é˜¶æ®µ| N3
                    N3 -->|é¢„å†™é˜¶æ®µ| N4
                    N4 -->|é¢„å†™é˜¶æ®µ| N5
                    N5 -->|é¢„å†™é˜¶æ®µ| N1
                    
                    %% åå‘è¿æ¥ï¼ˆé€†æ—¶é’ˆï¼‰
                    N2 -.->|å†™é˜¶æ®µ| N1
                    N3 -.->|å†™é˜¶æ®µ| N2
                    N4 -.->|å†™é˜¶æ®µ| N3
                    N5 -.->|å†™é˜¶æ®µ| N4
                    N1 -.->|å†™é˜¶æ®µ| N5
                    
                    %% æœ¬åœ°æ•°æ®æœåŠ¡å™¨è¿æ¥
                    N1 --- D1
                    N2 --- D2
                    N3 --- D3
                    N4 --- D4
                    N5 --- D5
                    
                    style N1 fill:#e8f4f8
                    style N2 fill:#e8f4f8
                    style N3 fill:#e8f4f8
                    style N4 fill:#e8f4f8
                    style N5 fill:#e8f4f8
                    style D1 fill:#d4edda
                    style D2 fill:#d4edda
                    style D3 fill:#d4edda
                    style D4 fill:#d4edda
                    style D5 fill:#d4edda
                </div>
            </div>
            
            <h3>è¯¦ç»†è§£é‡Š</h3>
            <div class="explanation">
                <h4>ğŸ—ï¸ æ¶æ„ç»„ä»¶</h4>
                <ul>
                    <li><strong>ç³»ç»ŸæœåŠ¡å™¨ï¼ˆN1-Niï¼‰</strong>ï¼š
                        <ul>
                            <li>ç»´æŠ¤ CRAQ åè®®çš„çŠ¶æ€ä¿¡æ¯</li>
                            <li>å¤„ç†å®¢æˆ·ç«¯è¯·æ±‚</li>
                            <li>ç®¡ç†æ¶ˆæ¯ä¼ é€’å’Œä¸€è‡´æ€§</li>
                        </ul>
                    </li>
                    <li><strong>æ•°æ®æœåŠ¡å™¨ï¼ˆD1-Diï¼‰</strong>ï¼š
                        <ul>
                            <li>è´Ÿè´£æ•°æ®çš„å®é™…å­˜å‚¨</li>
                            <li>æ— æ¨¡å¼è®¾è®¡ï¼Œæ”¯æŒçµæ´»çš„æ•°æ®ç»“æ„</li>
                            <li>é¢å‘åˆ—çš„å­˜å‚¨ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½</li>
                        </ul>
                    </li>
                </ul>
                
                <h4>ğŸ”„ æ¶ˆæ¯ä¼ é€’æœºåˆ¶</h4>
                <ul>
                    <li><strong>é¢„å†™é˜¶æ®µï¼ˆPre-write Phaseï¼‰</strong>ï¼š
                        <ul>
                            <li>æ¶ˆæ¯æ²¿ç¯é¡ºæ—¶é’ˆä¼ æ’­</li>
                            <li>ä»å‘èµ·èŠ‚ç‚¹åˆ°å…¶å‰é©±èŠ‚ç‚¹</li>
                            <li>å‡†å¤‡æ•°æ®æ›´æ–°</li>
                        </ul>
                    </li>
                    <li><strong>å†™é˜¶æ®µï¼ˆWrite Phaseï¼‰</strong>ï¼š
                        <ul>
                            <li>æ¶ˆæ¯æ²¿ç¯é€†æ—¶é’ˆä¼ æ’­</li>
                            <li>ä»å°¾èŠ‚ç‚¹å›åˆ°å¤´èŠ‚ç‚¹</li>
                            <li>ç¡®è®¤æ•°æ®å·²æäº¤</li>
                        </ul>
                    </li>
                </ul>
                
                <h4>ğŸ’¡ åŠ¨æ€å¤´å°¾èŠ‚ç‚¹</h4>
                <ul>
                    <li><strong>çµæ´»æ€§</strong>ï¼šæ²¡æœ‰å›ºå®šçš„å¤´å°¾èŠ‚ç‚¹</li>
                    <li><strong>è´Ÿè½½å‡è¡¡</strong>ï¼šä»»ä½•èŠ‚ç‚¹éƒ½å¯ä»¥ä½œä¸ºæ›´æ–°çš„èµ·ç‚¹</li>
                    <li><strong>é«˜å¯ç”¨æ€§</strong>ï¼šé¿å…å•ç‚¹æ•…éšœ</li>
                </ul>
            </div>
        </div>
        
        <!-- ç¬¬ä¸‰é¡µï¼šé…ç½®è¯´æ˜ -->
        <div class="section">
            <h2>ç¬¬ä¸‰é¡µï¼šé…ç½®è¯´æ˜ï¼ˆsys.configï¼‰</h2>
            
            <h3>é…ç½®å‚æ•°è¯¦è§£</h3>
            <table>
                <tr>
                    <th>é…ç½®å‚æ•°</th>
                    <th>è¯´æ˜</th>
                    <th>å¯é€‰å€¼</th>
                </tr>
                <tr>
                    <td><code>replication_type</code></td>
                    <td>å¤åˆ¶ç±»å‹ï¼ˆä»…ç”¨äºæ–‡æ¡£ç›®çš„ï¼‰</td>
                    <td>craq</td>
                </tr>
                <tr>
                    <td><code>node_order</code></td>
                    <td>èŠ‚ç‚¹æ’åºæ–¹å¼</td>
                    <td>sortedï¼ˆæŒ‰èŠ‚ç‚¹å€¼æ’åºï¼‰<br>user_definedï¼ˆç”¨æˆ·å®šä¹‰é¡ºåºï¼‰</td>
                </tr>
                <tr>
                    <td><code>failure_detector</code></td>
                    <td>æ•…éšœæ£€æµ‹æ¨¡å—åç§°</td>
                    <td>eh_failure_detector_api</td>
                </tr>
                <tr>
                    <td><code>repl_data_manager</code></td>
                    <td>å¤åˆ¶æ•°æ®ç®¡ç†å™¨æ¨¡å—</td>
                    <td>eh_repl_data_manager_api</td>
                </tr>
                <tr>
                    <td><code>storage_data</code></td>
                    <td>å­˜å‚¨æ•°æ®æ ¼å¼æ¨¡å—</td>
                    <td>eh_storage_data_api</td>
                </tr>
                <tr>
                    <td><code>write_conflict_resolver</code></td>
                    <td>å†™å†²çªè§£å†³æ¨¡å—</td>
                    <td>eh_write_conflict_resolver_api</td>
                </tr>
                <tr>
                    <td><code>unique_id_generator</code></td>
                    <td>å”¯ä¸€IDç”Ÿæˆå™¨æ¨¡å—</td>
                    <td>eh_unique_id_generator_api</td>
                </tr>
            </table>
            
            <h3>æŸ¥è¯¢å¤„ç†å™¨é€‰é¡¹</h3>
            <div class="explanation">
                <h4>ğŸ” query_handler æ¨¡å—é€‰é¡¹</h4>
                <ul>
                    <li><strong>eh_wait_query_handler_api</strong>ï¼š
                        <ul>
                            <li>ç­‰å¾…æ–°å€¼æŒä¹…åŒ–åå†å“åº”å®¢æˆ·ç«¯</li>
                            <li>æä¾›å¼ºä¸€è‡´æ€§ä¿è¯</li>
                            <li>å»¶è¿Ÿè¾ƒé«˜ä½†æ•°æ®æœ€æ–°</li>
                        </ul>
                    </li>
                    <li><strong>eh_no_wait_query_handler_api</strong>ï¼š
                        <ul>
                            <li>ç«‹å³å“åº”ï¼Œä¸ç­‰å¾…æ›´æ–°å®Œæˆ</li>
                            <li>å‘ŠçŸ¥å®¢æˆ·ç«¯å¯¹è±¡æ­£åœ¨æ›´æ–°ä¸­</li>
                            <li>å»¶è¿Ÿä½ä½†å¯èƒ½è¯»ä¸åˆ°æœ€æ–°æ•°æ®</li>
                        </ul>
                    </li>
                    <li><strong>eh_dirty_read_query_handler_api</strong>ï¼š
                        <ul>
                            <li>ç«‹å³è¿”å›ç°æœ‰çš„æ—§å€¼ï¼ˆè„è¯»ï¼‰</li>
                            <li>æœ€ä½å»¶è¿Ÿ</li>
                            <li>å¯èƒ½è¯»åˆ°è¿‡æ—¶æ•°æ®</li>
                        </ul>
                    </li>
                    <li><strong>eh_aq_query_handler_api</strong>ï¼š
                        <ul>
                            <li>å°†æŸ¥è¯¢è¯·æ±‚å‘é€åˆ°å°¾èŠ‚ç‚¹å“åº”</li>
                            <li>åˆ†æ•£æŸ¥è¯¢è´Ÿè½½</li>
                            <li>å¹³è¡¡æ€§èƒ½å’Œä¸€è‡´æ€§</li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- ç¬¬å››-äº”é¡µï¼šç³»ç»Ÿè®¾ç½®å’ŒAPI -->
        <div class="section">
            <h2>ç¬¬å››-äº”é¡µï¼šç³»ç»Ÿè®¾ç½®å’ŒAPI</h2>
            
            <h3>ç³»ç»Ÿå¯åŠ¨æ­¥éª¤</h3>
            <div class="code-block">
# 1. åˆ›å»º erlang_craq ä¸»ç›®å½•
mkdir erlang_craq_home
cd erlang_craq_home

# 2. åˆ›å»º ebin å­ç›®å½•å¹¶å¤åˆ¶æ–‡ä»¶
mkdir ebin
cp *.beam *.app ebin/

# 3. åˆ›å»ºæµ‹è¯•ç›®å½•
mkdir craq_test/ebin
cp test_*.beam craq_test/ebin/

# 4. å¯åŠ¨åˆ†å¸ƒå¼èŠ‚ç‚¹
./craq_erl.sh ec_n1
> erlang_craq:start().

# 5. åœ¨ä¸åŒç»ˆç«¯å¯åŠ¨æ›´å¤šèŠ‚ç‚¹
./craq_erl.sh ec_n2
> erlang_craq:start().

./craq_erl.sh ec_n3
> erlang_craq:start().
            </div>
            
            <h3>æ ¸å¿ƒAPIè¯´æ˜</h3>
            <div class="explanation">
                <h4>ğŸ“‹ setup_repl - è®¾ç½®å¤åˆ¶ç¯</h4>
                <div class="code-block">
erlang_craq:setup_repl(NodeList).

% ç¤ºä¾‹
N1 = 'ec_n1@hostname'.
N2 = 'ec_n2@hostname'.
N3 = 'ec_n3@hostname'.
NodeList = [N1, N2, N3].
erlang_craq:setup_repl(NodeList).
                </div>
                
                <h4>âœï¸ update - æ•°æ®æ›´æ–°</h4>
                <div class="code-block">
% å•å¯¹è±¡æ›´æ–°
erlang_craq:update(Node, ObjectType, ObjectId, [{Col1, Val1}, {Col2, Val2}]).

% ç¤ºä¾‹
erlang_craq:update(N1, person, 10, [{name, john}, {age, 30}, {gender, male}]).

% æ›´æ–°å’Œåˆ é™¤åˆ—
erlang_craq:update(Node, ObjectType, ObjectId, UpdateColList, DeleteColList).

% è¿·ä½ äº‹åŠ¡ï¼ˆå¤šå¯¹è±¡æ›´æ–°ï¼‰
erlang_craq:update(Node, UpdateList).
                </div>
                
                <h4>ğŸ” query - æ•°æ®æŸ¥è¯¢</h4>
                <div class="code-block">
erlang_craq:query(Node, ObjectType, ObjectId).

% ç¤ºä¾‹
erlang_craq:query(N1, person, 10).
% è¿”å›: [{ok, {person,10,[{name,john},{age,30},{gender,male}]}}]
                </div>
                
                <h4>ğŸ—‘ï¸ delete - æ•°æ®åˆ é™¤</h4>
                <div class="code-block">
% åˆ é™¤åˆ—
erlang_craq:delete(Node, ObjectType, ObjectId, DeleteColList).

% åˆ é™¤æ•´ä¸ªå¯¹è±¡
erlang_craq:delete(Node, ObjectType, ObjectId).
                </div>
            </div>
        </div>
        
        <!-- ç¬¬å…­-ä¸ƒé¡µï¼šå†™å†²çªå’Œæ•°æ®ç®¡ç† -->
        <div class="section">
            <h2>ç¬¬å…­-ä¸ƒé¡µï¼šå†™å†²çªå¤„ç†å’Œæ•°æ®ç®¡ç†</h2>
            
            <h3>å†™å†²çªè§£å†³æœºåˆ¶</h3>
            <div class="explanation">
                <h4>âš¡ å†²çªåœºæ™¯</h4>
                <ul>
                    <li><strong>åŒå¯¹è±¡å¹¶å‘æ›´æ–°</strong>ï¼š2ä¸ªæˆ–æ›´å¤šèŠ‚ç‚¹åŒæ—¶æ›´æ–°åŒä¸€å¯¹è±¡</li>
                    <li><strong>è¿·ä½ äº‹åŠ¡å†²çª</strong>ï¼šåŒ…å«ç›¸åŒå¯¹è±¡çš„å¹¶å‘è¿·ä½ äº‹åŠ¡</li>
                </ul>
                
                <h4>ğŸ† å†²çªè§£å†³è§„åˆ™</h4>
                <ul>
                    <li><strong>é¢„å†™é˜¶æ®µå†²çª</strong>ï¼š
                        <ul>
                            <li>æ‰€æœ‰æ›´æ–°éƒ½åœ¨é¢„å†™é˜¶æ®µ</li>
                            <li>å‘èµ·èŠ‚ç‚¹å€¼æœ€é«˜çš„æ›´æ–°è·èƒœ</li>
                        </ul>
                    </li>
                    <li><strong>æ··åˆé˜¶æ®µå†²çª</strong>ï¼š
                        <ul>
                            <li>éƒ¨åˆ†æ›´æ–°åœ¨é¢„å†™é˜¶æ®µï¼Œéƒ¨åˆ†åœ¨å†™é˜¶æ®µ</li>
                            <li>å†™é˜¶æ®µçš„æ›´æ–°è·èƒœï¼ˆåªèƒ½æœ‰ä¸€ä¸ªå†™é˜¶æ®µæ›´æ–°ï¼‰</li>
                        </ul>
                    </li>
                </ul>
                
                <h4>ğŸ’¾ æ•°æ®æ£€æŸ¥ç‚¹å’Œç‰ˆæœ¬æ§åˆ¶</h4>
                <ul>
                    <li><strong>å®šæœŸæ£€æŸ¥</strong>ï¼šæ¯éš”ä¸€å®šæ•°é‡çš„æ›´æ–°æ¡ç›®æ£€æŸ¥æ•°æ®æ–‡ä»¶</li>
                    <li><strong>è…è´¥æ£€æµ‹</strong>ï¼šæ£€æµ‹æ•°æ®æ–‡ä»¶æ˜¯å¦æŸå</li>
                    <li><strong>æ–‡ä»¶ç‰ˆæœ¬åŒ–</strong>ï¼š
                        <ul>
                            <li>æ— æŸåï¼šå…³é—­å½“å‰æ–‡ä»¶ï¼Œåˆ›å»ºæ–°ç‰ˆæœ¬æ–‡ä»¶</li>
                            <li>æœ‰æŸåï¼šæˆªæ–­æ–‡ä»¶åˆ°æ­£ç¡®ä½ç½®ï¼ŒèŠ‚ç‚¹é€€å‡ºç¯</li>
                        </ul>
                    </li>
                    <li><strong>å¢é‡æ¢å¤</strong>ï¼šé‡æ–°åŠ å…¥çš„èŠ‚ç‚¹ä»åç»§èŠ‚ç‚¹è·å–å¢é‡å¿«ç…§</li>
                </ul>
            </div>
        </div>
        
        <!-- ç¬¬å…«-åé¡µï¼šæµ‹è¯•ç¤ºä¾‹ -->
        <div class="section">
            <h2>ç¬¬å…«-åé¡µï¼šæ‰‹åŠ¨æµ‹è¯•ç¤ºä¾‹</h2>
            
            <h3>å®Œæ•´æµ‹è¯•æµç¨‹</h3>
            <div class="code-block">
# 1. æ¸…ç†æ•°æ®æ–‡ä»¶
rm *.data

# 2. å¯åŠ¨æœåŠ¡å™¨èŠ‚ç‚¹
# ç»ˆç«¯1
./craq_erl.sh ec_n1
> erlang_craq:start().

# ç»ˆç«¯2
./craq_erl.sh ec_n2
> erlang_craq:start().

# ç»ˆç«¯3
./craq_erl.sh ec_n3
> erlang_craq:start().

# 3. å¯åŠ¨å®¢æˆ·ç«¯å¹¶è®¾ç½®å¤åˆ¶ç¯
# ç»ˆç«¯4
./craq_erl.sh ec_c1
> N1 = 'ec_n1@hostname'.
> N2 = 'ec_n2@hostname'.
> N3 = 'ec_n3@hostname'.
> NL = [N1, N2, N3].
> erlang_craq:setup_repl(NL).

# 4. æ’å…¥æµ‹è¯•æ•°æ®
> erlang_craq:update(N1, candidate, 10, [{name,donald_trump},{party,republican}]).
% è¿”å›: [{ok, {[{candidate, 10}], updated}}]

# 5. éªŒè¯æ•°æ®ä¸€è‡´æ€§
> erlang_craq:query(N1, candidate, 10).
> erlang_craq:query(N2, candidate, 10).
> erlang_craq:query(N3, candidate, 10).
% æ‰€æœ‰æŸ¥è¯¢åº”è¿”å›ç›¸åŒç»“æœ

# 6. æµ‹è¯•æ›´å¤šæ›´æ–°
> erlang_craq:update(N2, candidate, 20, [{name,hillary_clinton},{party,democrat}]).
> erlang_craq:update(N3, candidate, 30, [{name,ted_cruz},{party,republican}]).

# 7. æµ‹è¯•è¿·ä½ äº‹åŠ¡
> erlang_craq:update(N1, [{candidate, 40, [{name,bernie_sanders},{party,democrat}]},
                          {candidate, 50, [{name,marco_rubio},{party,republican}]}]).
            </div>
            
            <h3>å¹¶å‘æµ‹è¯•</h3>
            <div class="explanation">
                <h4>âœ… æˆåŠŸçš„å¹¶å‘æ›´æ–°ï¼ˆä¸åŒå¯¹è±¡ï¼‰</h4>
                <div class="code-block">
> erlang_craq:multi_update([N1, N2, N3],
    [[{candidate,10,[{name,donald_trump},{party,republican}]},
      {candidate,20,[{name,hillary_clinton},{party,democrat}]}],
     [{candidate,30,[{name,ted_cruz},{party,republican}]},
      {candidate,40,[{name,bernie_sanders},{party,democrat}]}],
     [{candidate,50,[{name,marco_rubio},{party,republican}]},
      {candidate,60,[{name,ben_carson},{party,republican}]}]]).

% é¢„æœŸç»“æœï¼šæ‰€æœ‰æ›´æ–°æˆåŠŸ
[{ok,{[{candidate,10},{candidate,20}],updated}},
 {ok,{[{candidate,30},{candidate,40}],updated}},
 {ok,{[{candidate,50},{candidate,60}],updated}}]
                </div>
                
                <h4>âŒ å†²çªçš„å¹¶å‘æ›´æ–°ï¼ˆç›¸åŒå¯¹è±¡ï¼‰</h4>
                <div class="code-block">
> erlang_craq:multi_update([N1, N2, N3],
    [[{candidate,10,[{name,donald_trump},{party,republican}]},
      {candidate,20,[{name,hillary_clinton},{party,democrat}]}],
     [{candidate,30,[{name,ted_cruz},{party,republican}]},
      {candidate,20,[{name,hillary_clinton},{party,democrat}]}],  % å†²çª
     [{candidate,50,[{name,marco_rubio},{party,republican}]},
      {candidate,20,[{name,hillary_clinton},{party,democrat}]}]]). % å†²çª

% é¢„æœŸç»“æœï¼šåªæœ‰ä¸€ä¸ªæ›´æ–°æˆåŠŸï¼Œå…¶ä»–è¢«æ‹’ç»
[{error,{[{candidate,10},{candidate,20}],being_updated}},
 {error,{[{candidate,30},{candidate,20}],being_updated}},
 {ok,{[{candidate,50},{candidate,20}],updated}}]
                </div>
            </div>
        </div>
        
        <!-- ç¬¬åä¸€é¡µï¼šè‡ªåŠ¨åŒ–æµ‹è¯• -->
        <div class="section">
            <h2>ç¬¬åä¸€é¡µï¼šè‡ªåŠ¨åŒ–æµ‹è¯•</h2>
            
            <h3>è‡ªåŠ¨åŒ–æµ‹è¯•æ¶æ„</h3>
            <div class="explanation">
                <h4>ğŸ¯ æµ‹è¯•ç›®æ ‡</h4>
                <ul>
                    <li>éªŒè¯ç³»ç»Ÿåœ¨èŠ‚ç‚¹åŠ¨æ€å˜åŒ–ä¸‹çš„ä¸€è‡´æ€§</li>
                    <li>æµ‹è¯•é«˜å¹¶å‘æ•°æ®å†™å…¥çš„æ­£ç¡®æ€§</li>
                    <li>éªŒè¯æ•…éšœæ¢å¤æœºåˆ¶</li>
                </ul>
                
                <h4>ğŸ‘¥ æµ‹è¯•è§’è‰²</h4>
                <ul>
                    <li><strong>æ•…éšœæ³¨å…¥å®¢æˆ·ç«¯</strong>ï¼š
                        <ul>
                            <li>æ¯5ç§’éšæœºå…³é—­æˆ–å¯åŠ¨ä¸€ä¸ªæœåŠ¡å™¨</li>
                            <li>æ‰§è¡Œ15-20æ¬¡æ•…éšœæ³¨å…¥æ“ä½œ</li>
                            <li>æµ‹è¯•ç»“æŸæ—¶æ¢å¤æ‰€æœ‰ä¸‹çº¿èŠ‚ç‚¹</li>
                        </ul>
                    </li>
                    <li><strong>æ•°æ®å†™å…¥å®¢æˆ·ç«¯ï¼ˆè‡³å°‘2ä¸ªï¼‰</strong>ï¼š
                        <ul>
                            <li>æ¯ç§’å†™å…¥5æ¡æ•°æ®</li>
                            <li>æ€»å…±å†™å…¥400-500æ¡æ•°æ®</li>
                            <li>éšæœºé€‰æ‹©èŠ‚ç‚¹ã€å¯¹è±¡ç±»å‹ã€IDå’Œå€¼</li>
                            <li>å®¹å¿èŠ‚ç‚¹ä¸‹çº¿å¯¼è‡´çš„è¶…æ—¶</li>
                        </ul>
                    </li>
                </ul>
            </div>
            
            <h3>æµ‹è¯•æ‰§è¡Œæ­¥éª¤</h3>
            <div class="code-block">
# 1. æ¸…ç†ç¯å¢ƒ
rm *.data

# 2. å¯åŠ¨6ä¸ªç»ˆç«¯

# ç»ˆç«¯1-3ï¼šæœåŠ¡å™¨èŠ‚ç‚¹
./craq_erl.sh ec_n1
> erlang_craq:start().

./craq_erl.sh ec_n2
> erlang_craq:start().

./craq_erl.sh ec_n3
> erlang_craq:start().

# ç»ˆç«¯4-5ï¼šæ•°æ®å†™å…¥å®¢æˆ·ç«¯
./craq_erl.sh ec_c1
> NL = ['ec_n1@hostname', 'ec_n2@hostname', 'ec_n3@hostname'].
# å‡†å¤‡ä½†ä¸æ‰§è¡Œï¼šerlang_craq_test:data_entries(NL).

./craq_erl.sh ec_c2
> NL = ['ec_n1@hostname', 'ec_n2@hostname', 'ec_n3@hostname'].
# å‡†å¤‡ä½†ä¸æ‰§è¡Œï¼šerlang_craq_test:data_entries(NL).

# ç»ˆç«¯6ï¼šæ•…éšœæ³¨å…¥å’Œåè°ƒå®¢æˆ·ç«¯
./craq_erl.sh ec_c3
> NL = ['ec_n1@hostname', 'ec_n2@hostname', 'ec_n3@hostname'].
> erlang_craq:setup_repl(NL).
> erlang_craq_test:node_change(NL).

# 3. å¯åŠ¨æ•°æ®å†™å…¥ï¼ˆåœ¨ç»ˆç«¯4å’Œ5æ‰§è¡Œï¼‰
> erlang_craq_test:data_entries(NL).

# 4. éªŒè¯ä¸€è‡´æ€§ï¼ˆæ‰€æœ‰å®¢æˆ·ç«¯å®Œæˆååœ¨ç»ˆç«¯6æ‰§è¡Œï¼‰
> erlang_craq_validate:check_data(NL).
# é¢„æœŸç»“æœï¼švalid
            </div>
            
            <h3>æµ‹è¯•éªŒè¯</h3>
            <div class="explanation">
                <h4>âœ… æˆåŠŸæ ‡å‡†</h4>
                <ul>
                    <li><strong>æ•°æ®ä¸€è‡´æ€§</strong>ï¼šæ‰€æœ‰å­˜æ´»èŠ‚ç‚¹çš„æ•°æ®å®Œå…¨ä¸€è‡´</li>
                    <li><strong>å®Œæ•´æ€§</strong>ï¼šæ²¡æœ‰æ•°æ®ä¸¢å¤±æˆ–æŸå</li>
                    <li><strong>å¯ç”¨æ€§</strong>ï¼šç³»ç»Ÿåœ¨æ•…éšœæœŸé—´ä»èƒ½æä¾›æœåŠ¡</li>
                </ul>
                
                <h4>âŒ å¤±è´¥æŒ‡æ ‡</h4>
                <ul>
                    <li>éªŒè¯å‘½ä»¤è¿”å›é"valid"ç»“æœ</li>
                    <li>æ•°æ®æ–‡ä»¶å¤§å°ä¸ä¸€è‡´</li>
                    <li>æŸ¥è¯¢è¿”å›ä¸ä¸€è‡´çš„ç»“æœ</li>
                </ul>
            </div>
        </div>
        
        <!-- æ€»ç»“ -->
        <div class="section">
            <h2>ğŸ“‹ æ–‡æ¡£æ€»ç»“</h2>
            
            <h3>ç³»ç»Ÿç‰¹ç‚¹</h3>
            <div class="explanation">
                <h4>ğŸ¯ æ ¸å¿ƒä¼˜åŠ¿</h4>
                <ul>
                    <li><strong>é«˜ååé‡</strong>ï¼šæ”¯æŒä»»æ„èŠ‚ç‚¹çš„å¹¶å‘è¯»å†™</li>
                    <li><strong>å¼ºä¸€è‡´æ€§</strong>ï¼šä¿è¯æ•°æ®çš„åŸå­æ€§å’Œä¸€è‡´æ€§</li>
                    <li><strong>åŠ¨æ€å¤´å°¾</strong>ï¼šæ²¡æœ‰å›ºå®šçš„å¤´å°¾èŠ‚ç‚¹ï¼Œæé«˜å¯ç”¨æ€§</li>
                    <li><strong>æ•…éšœæ¢å¤</strong>ï¼šè‡ªåŠ¨æ£€æµ‹æ•…éšœå¹¶æ”¯æŒå¢é‡æ¢å¤</li>
                    <li><strong>çµæ´»é…ç½®</strong>ï¼šæ”¯æŒå¤šç§æŸ¥è¯¢æ¨¡å¼å’Œæ—¥å¿—æ¡†æ¶</li>
                </ul>
                
                <h4>âš ï¸ ç³»ç»Ÿé™åˆ¶</h4>
                <ul>
                    <li><strong>ç½‘ç»œå‡è®¾</strong>ï¼šä¸å®¹å¿ç½‘ç»œåˆ†åŒº</li>
                    <li><strong>æœ€å°å¯ç”¨æ€§</strong>ï¼šè‡³å°‘éœ€è¦ä¸€ä¸ªèŠ‚ç‚¹å¯ç”¨</li>
                    <li><strong>å†™å†²çª</strong>ï¼šåŒå¯¹è±¡çš„å¹¶å‘æ›´æ–°ä¼šè¢«æ‹’ç»</li>
                </ul>
                
                <h4>ğŸ”§ é€‚ç”¨åœºæ™¯</h4>
                <ul>
                    <li><strong>é«˜å¹¶å‘è¯»å†™</strong>ï¼šéœ€è¦å¤§é‡å¹¶å‘æ“ä½œçš„åº”ç”¨</li>
                    <li><strong>å¼ºä¸€è‡´æ€§è¦æ±‚</strong>ï¼šå¯¹æ•°æ®ä¸€è‡´æ€§è¦æ±‚ä¸¥æ ¼çš„ç³»ç»Ÿ</li>
                    <li><strong>å¯é ç½‘ç»œç¯å¢ƒ</strong>ï¼šç½‘ç»œåˆ†åŒºæ¦‚ç‡è¾ƒä½çš„ç¯å¢ƒ</li>
                    <li><strong>åŠ¨æ€è´Ÿè½½</strong>ï¼šéœ€è¦è´Ÿè½½å‡è¡¡çš„åˆ†å¸ƒå¼åº”ç”¨</li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <p>Erlang CRAQ PDF æ–‡æ¡£ç¿»è¯‘ä¸è§£é‡Š | åŸºäº erlang_craq.pdf</p>
            <p>ç¿»è¯‘æ—¥æœŸï¼š2024å¹´12æœˆ | ç‰ˆæœ¬ï¼š1.0</p>
        </div>
    </div>
    
    <script>
        // åˆå§‹åŒ– Mermaid
        mermaid.initialize({ startOnLoad: true });
        
        function exportToWord() {
            const loadingMsg = document.createElement('div');
            loadingMsg.style.position = 'fixed';
            loadingMsg.style.top = '50%';
            loadingMsg.style.left = '50%';
            loadingMsg.style.transform = 'translate(-50%, -50%)';
            loadingMsg.style.background = 'rgba(0,0,0,0.8)';
            loadingMsg.style.color = 'white';
            loadingMsg.style.padding = '20px';
            loadingMsg.style.borderRadius = '5px';
            loadingMsg.style.zIndex = '1000';
            loadingMsg.textContent = 'æ­£åœ¨å¯¼å‡º Word æ–‡æ¡£...';
            document.body.appendChild(loadingMsg);
            
            try {
                const content = document.documentElement.outerHTML;
                const converted = htmlDocx.asBlob(content);
                saveAs(converted, 'Erlang_CRAQ_PDFç¿»è¯‘è§£é‡Š.docx');
                
                document.body.removeChild(loadingMsg);
                alert('Word æ–‡æ¡£å¯¼å‡ºæˆåŠŸï¼');
            } catch (error) {
                console.error('å¯¼å‡ºå¤±è´¥:', error);
                document.body.removeChild(loadingMsg);
                alert('å¯¼å‡ºè¿‡ç¨‹ä¸­å‡ºç°é”™è¯¯: ' + error.message);
            }
        }
    </script>

<!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="back-to-top" style="
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #00d4ff, #7c3aed);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
    transition: all 0.3s ease;
    z-index: 999;
    opacity: 0;
    transform: translateY(20px);
" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
   onmouseover="this.style.transform='translateY(-5px) scale(1.1)'" 
   onmouseout="this.style.transform='translateY(0) scale(1)'">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
        <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
    </svg>
</div>

<script>
// å›åˆ°é¡¶éƒ¨æŒ‰é’®æ˜¾ç¤º/éšè—é€»è¾‘
window.addEventListener('scroll', function() {
    const backToTop = document.getElementById('back-to-top');
    if (window.scrollY > 300) {
        backToTop.style.opacity = '1';
        backToTop.style.transform = 'translateY(0)';
    } else {
        backToTop.style.opacity = '0';
        backToTop.style.transform = 'translateY(20px)';
    }
});
</script>

</body>
</html>