<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRAQå¢é‡æ›´æ–°æœºåˆ¶Erlangä»£ç å®ç°åˆ†æ</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            backdrop-filter: blur(10px);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            color: #34495e;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-top: 40px;
        }
        h3 {
            color: #2980b9;
            margin-top: 30px;
        }
        h4 {
            color: #8e44ad;
            margin-top: 25px;
        }
        .erlang-code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 5px solid #e74c3c;
        }
        .highlight {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 5px solid #e74c3c;
        }
        .summary {
            background: linear-gradient(120deg, #d299c2 0%, #fef9d7 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #f39c12;
        }
        .code-explanation {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 5px solid #6c757d;
        }
        .trace-data {
            background: #1a1a1a;
            color: #00ff00;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            margin: 10px 0;
            border: 2px solid #00ff00;
        }
        .key-point {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 5px solid #ffc107;
        }
        .function-signature {
            background: #e9ecef;
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            margin: 5px 0;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin: 8px 0;
        }
        .variable {
            color: #e74c3c;
            font-weight: bold;
        }
        .function-name {
            color: #27ae60;
            font-weight: bold;
        }
        .comment {
            color: #95a5a6;
            font-style: italic;
        }
    </style>
</head>
<body>
<!-- CRAQ æ–‡æ¡£å¯¼èˆªæ  -->
<div id="craq-nav" style="
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: rgba(15, 15, 35, 0.95);
    backdrop-filter: blur(10px);
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    padding: 12px 20px;
    z-index: 1000;
    display: flex;
    align-items: center;
    gap: 20px;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
">
    <a href="/craq/" style="
        color: #00d4ff;
        text-decoration: none;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 500;
        transition: all 0.3s ease;
    " onmouseover="this.style.color='#7c3aed'" onmouseout="this.style.color='#00d4ff'">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
        </svg>
        è¿”å› CRAQ æ–‡æ¡£é¦–é¡µ
    </a>
    
    <div style="flex: 1;"></div>
    
    <a href="/" style="
        color: #888;
        text-decoration: none;
        font-size: 14px;
        transition: all 0.3s ease;
    " onmouseover="this.style.color='#fff'" onmouseout="this.style.color='#888'">
        åšå®¢é¦–é¡µ
    </a>
</div>

<!-- ä¸ºå¯¼èˆªæ æ·»åŠ é¡¶éƒ¨é—´è· -->
<div style="height: 60px;"></div>

    <div class="container">
        <h1>ğŸ’» CRAQå¢é‡æ›´æ–°æœºåˆ¶Erlangä»£ç å®ç°åˆ†æ</h1>
        
        <div class="summary">
            <h3>ğŸ¯ æ ¸å¿ƒè§‚ç‚¹</h3>
            <p><strong>CRAQçš„"ä¸éœ€è¦å…ˆè¯»å–å®Œæ•´è®°å½•"æœºåˆ¶åœ¨Erlangä»£ç ä¸­çš„ä½“ç°ï¼š</strong></p>
            <ul>
                <li>æ•°æ®æœåŠ¡å™¨ç»´æŠ¤å®Œæ•´çš„å†…å­˜çŠ¶æ€ <code>#eh_data_state{data=Data}</code></li>
                <li>æ›´æ–°æ“ä½œç›´æ¥åŸºäºå†…å­˜æ•°æ®ç»“æ„è¿›è¡Œå¢é‡è®¡ç®—</li>
                <li>ä½¿ç”¨ <code>eh_data_util:make_data/5</code> å‡½æ•°å®ç°çº¯å†…å­˜æ“ä½œ</li>
                <li>é€šè¿‡ <code>add_key_value/2</code> å‡½æ•°è¿½åŠ æ–°ç‰ˆæœ¬ï¼Œè€Œéè¦†ç›–</li>
            </ul>
        </div>

        <h2>ğŸ” æ ¸å¿ƒä»£ç åˆ†æ</h2>

        <h3>ğŸ“Š 1. æ•°æ®æœåŠ¡å™¨çŠ¶æ€ç»“æ„</h3>
        
        <div class="erlang-code">
%% eh_data_server.erl - æ•°æ®æœåŠ¡å™¨çŠ¶æ€å®šä¹‰
-record(eh_data_state, {
    timestamp,           %% å½“å‰æ—¶é—´æˆ³
    data_index_list,     %% æ•°æ®ç´¢å¼•åˆ—è¡¨
    data,               %% æ ¸å¿ƒï¼šå®Œæ•´çš„å†…å­˜æ•°æ®æ˜ å°„è¡¨
    transient_data,     %% ä¸´æ—¶æ•°æ®é˜Ÿåˆ—
    file_version_num,   %% æ–‡ä»¶ç‰ˆæœ¬å·
    file,              %% æ–‡ä»¶æè¿°ç¬¦
    app_config         %% åº”ç”¨é…ç½®
}).
        </div>

        <div class="key-point">
            <h4>ğŸ”‘ å…³é”®ç‚¹ï¼šå†…å­˜æ•°æ®ç»“æ„</h4>
            <p><strong>data</strong> å­—æ®µæ˜¯ä¸€ä¸ªMapç»“æ„ï¼ŒåŒ…å«æ‰€æœ‰å¯¹è±¡çš„å®Œæ•´å†å²ç‰ˆæœ¬æ•°æ®ã€‚è¿™æ˜¯å®ç°"æ— éœ€è¯»å–"çš„æ ¸å¿ƒåŸºç¡€ã€‚</p>
        </div>

        <h3>âš¡ 2. æ›´æ–°æ“ä½œå…¥å£å‡½æ•°</h3>

        <div class="erlang-code">
%% eh_data_server.erl:90-97 - æ›´æ–°æ“ä½œå¤„ç†
handle_call({?EH_UPDATE, {?EH_READY, Timestamp, UpdateList}}, 
            _From, 
            #eh_data_state{data=Data,                    %% ç°æœ‰å†…å­˜æ•°æ®
                          transient_data=TQ0, 
                          timestamp=StateTimestamp, 
                          data_index_list=StateDataIndexList}=State) ->
  %% å…³é”®ï¼šç›´æ¥åŸºäºå†…å­˜Dataè¿›è¡Œå¢é‡è®¡ç®—ï¼Œæ— ç£ç›˜è¯»å–
  {_, {_, DIL0}, Q0, D0} = eh_data_util:make_data(UpdateList, Timestamp, 
                                                  {StateTimestamp, StateDataIndexList}, 
                                                  TQ0, Data),
  write_data(Timestamp, DIL0, D0, Q0, State);
        </div>

        <div class="code-explanation">
            <h4>ğŸ“ ä»£ç è§£æ</h4>
            <ul>
                <li><span class="variable">Data</span>ï¼šå½“å‰å†…å­˜ä¸­çš„å®Œæ•´æ•°æ®çŠ¶æ€</li>
                <li><span class="variable">UpdateList</span>ï¼šæœ¬æ¬¡æ›´æ–°çš„å­—æ®µåˆ—è¡¨</li>
                <li><span class="function-name">make_data/5</span>ï¼šåŸºäºç°æœ‰Dataè®¡ç®—å¢é‡æ›´æ–°</li>
                <li><span class="variable">D0</span>ï¼šæ›´æ–°åçš„æ–°æ•°æ®çŠ¶æ€</li>
            </ul>
        </div>

        <h3>ğŸ§© 3. å¢é‡æ›´æ–°æ ¸å¿ƒå‡½æ•°</h3>

        <div class="erlang-code">
%% eh_data_util.erl:122-132 - å¢é‡æ›´æ–°é€»è¾‘
make_data([{ObjectType, ObjectId, Extra} | Rest], Timestamp, 
          {StateTimestamp, StateDataIndexList}, Qi0, Di0) ->
  %% é€’å½’å¤„ç†æ¯ä¸ªæ›´æ–°å¯¹è±¡
  {_, {StateTimestamp1, StateDataIndexList1}, Qi1, Di1} = 
      make_data(ObjectType, ObjectId, Timestamp, Extra, 
                {StateTimestamp, StateDataIndexList}, Qi0, Di0),
  make_data(Rest, Timestamp, {StateTimestamp1, StateDataIndexList1}, Qi1, Di1);

make_data([], _, {StateTimestamp, StateDataIndexList}, Qi0, Di0) ->
  {0, {StateTimestamp, StateDataIndexList}, Qi0, Di0}.

%% å¤„ç†å•ä¸ªå¯¹è±¡çš„æ›´æ–°
make_data(ObjectType, ObjectId, Timestamp, Columns, 
          {StateTimestamp, StateDataIndexList}, Qi0, Di0) ->
  make_data_acc(ObjectType, ObjectId, Timestamp, Columns, 
                {0, {StateTimestamp, StateDataIndexList}, Qi0, Di0}).
        </div>

        <div class="key-point">
            <h4>ğŸ¯ å…³é”®å®ç°ç‰¹ç‚¹</h4>
            <ul>
                <li><strong>è¾“å…¥å‚æ•°Di0</strong>ï¼šåŒ…å«ç°æœ‰çš„å®Œæ•´å†…å­˜æ•°æ®çŠ¶æ€</li>
                <li><strong>æ— è¯»å–æ“ä½œ</strong>ï¼šå‡½æ•°å†…éƒ¨æ²¡æœ‰ä»»ä½•ç£ç›˜è¯»å–è°ƒç”¨</li>
                <li><strong>å¢é‡è®¡ç®—</strong>ï¼šåŸºäºç°æœ‰çŠ¶æ€è®¡ç®—æ–°å¢çš„æ•°æ®è®°å½•</li>
                <li><strong>è¿”å›æ–°çŠ¶æ€</strong>ï¼šDi1åŒ…å«æ›´æ–°åçš„å®Œæ•´æ•°æ®çŠ¶æ€</li>
            </ul>
        </div>

        <h3>ğŸ”§ 4. æ•°æ®è¿½åŠ æœºåˆ¶</h3>

        <div class="erlang-code">
%% eh_data_util.erl:134-142 - å­—æ®µçº§å¢é‡å¤„ç†
make_data_acc(ObjectType, ObjectId, Timestamp, [H | T], 
              {DataIndex0, {StateTimestamp, StateDataIndexList}, Qi0, Di0}) ->
  DataIndex1 = DataIndex0+1,
  %% ä¸ºæ¯ä¸ªå­—æ®µåˆ›å»ºæ–°çš„å­˜å‚¨è®°å½•
  StorageData = storage_data(ObjectType, ObjectId, Timestamp, DataIndex1, H),
  %% é€’å½’å¤„ç†å‰©ä½™å­—æ®µ
  make_data_acc(ObjectType, ObjectId, Timestamp, T, 
                add_data(StorageData, Qi0, {StateTimestamp, StateDataIndexList}, Di0));

%% æ ¸å¿ƒï¼šå°†æ–°æ•°æ®æ·»åŠ åˆ°ç°æœ‰æ•°æ®ç»“æ„ä¸­
add_data(StorageData, Q0, {StateTimestamp, StateDataIndexList}, D0) ->
  {StorageData#eh_storage_data.data_index, 
   update_timestamp(StorageData, {StateTimestamp, StateDataIndexList}), 
   queue:in(StorageData, Q0), 
   add_key_value(StorageData, D0)}.  %% å…³é”®ï¼šè¿½åŠ è€Œéè¦†ç›–
        </div>

        <h3>ğŸ’¾ 5. ç‰ˆæœ¬åŒ–æ•°æ®è¿½åŠ å‡½æ•°</h3>

        <div class="erlang-code">
%% eh_data_util.erl:207-215 - ç‰ˆæœ¬åŒ–æ•°æ®è¿½åŠ 
add_key_value(StorageData, M0) ->
  {Key, Value} = make_key_value(StorageData),
  Q1 = case maps:find(Key, M0) of
        error ->                    %% æ–°å¯¹è±¡ï¼šåˆ›å»ºæ–°é˜Ÿåˆ—
           queue:new();
        {ok, Q0} ->                %% ç°æœ‰å¯¹è±¡ï¼šè·å–ç°æœ‰ç‰ˆæœ¬é˜Ÿåˆ—
           Q0                      %% å…³é”®ï¼šä¸è¯»å–ç£ç›˜ï¼Œç›´æ¥ä½¿ç”¨å†…å­˜æ•°æ®
       end,
  maps:put(Key, queue:in(Value, Q1), M0).  %% è¿½åŠ æ–°ç‰ˆæœ¬åˆ°é˜Ÿåˆ—æœ«å°¾
        </div>

        <div class="highlight">
            <h4>ğŸš€ æ ¸å¿ƒæœºåˆ¶ä½“ç°</h4>
            <p>è¿™ä¸ªå‡½æ•°å®Œç¾ä½“ç°äº†"ä¸éœ€è¦å…ˆè¯»å–"çš„æœºåˆ¶ï¼š</p>
            <ul>
                <li><strong>maps:find(Key, M0)</strong>ï¼šç›´æ¥åœ¨å†…å­˜Mapä¸­æŸ¥æ‰¾ï¼Œæ— ç£ç›˜I/O</li>
                <li><strong>queue:in(Value, Q1)</strong>ï¼šå°†æ–°ç‰ˆæœ¬è¿½åŠ åˆ°ç°æœ‰ç‰ˆæœ¬é˜Ÿåˆ—</li>
                <li><strong>ä¸è¦†ç›–åŸæ•°æ®</strong>ï¼šä¿ç•™æ‰€æœ‰å†å²ç‰ˆæœ¬ï¼Œå®ç°ç‰ˆæœ¬åŒ–å­˜å‚¨</li>
            </ul>
        </div>

        <h2>ğŸ“Š å®é™…è¿è¡Œæ—¶æ•°æ®åˆ†æ</h2>

        <h3>ğŸ” Traceæ—¥å¿—ä¸­çš„å†…å­˜çŠ¶æ€</h3>

        <div class="trace-data">
%% ç¬¬2æ¬¡æ›´æ–°æ—¶çš„å†…å­˜çŠ¶æ€ (timestamp=2)
%% æ›´æ–°è¯·æ±‚ï¼š[{person,10,[{age,1,40}]}] - ä»…æ›´æ–°ageå­—æ®µ

%% å½“å‰å†…å­˜çŠ¶æ€ (Dataå‚æ•°)ï¼š
#{{eh_storage_key,person,10} =>
    {[{eh_storage_value,1,3,1,gender,male},    %% ç°æœ‰genderå­—æ®µ
      {eh_storage_value,1,2,1,age,30}],        %% ç°æœ‰ageå­—æ®µ(æ—§ç‰ˆæœ¬)
     [{eh_storage_value,1,1,1,name,john}]}}    %% ç°æœ‰nameå­—æ®µ

%% make_data/5 å‡½æ•°å¤„ç†åçš„æ–°çŠ¶æ€ï¼š
#{{eh_storage_key,person,10} =>
    {[{eh_storage_value,2,1,1,age,40},         %% æ–°å¢ï¼šageå­—æ®µæ–°ç‰ˆæœ¬
      {eh_storage_value,1,3,1,gender,male},    %% ä¿ç•™ï¼šgenderå­—æ®µ
      {eh_storage_value,1,2,1,age,30}],        %% ä¿ç•™ï¼šageå­—æ®µå†å²ç‰ˆæœ¬
     [{eh_storage_value,1,1,1,name,john}]}}    %% ä¿ç•™ï¼šnameå­—æ®µ
        </div>

        <div class="code-explanation">
            <h4>ğŸ“ˆ æ•°æ®æ¼”è¿›è¿‡ç¨‹</h4>
            <ol>
                <li><strong>è¾“å…¥</strong>ï¼šç°æœ‰å†…å­˜çŠ¶æ€ + æ›´æ–°å­—æ®µåˆ—è¡¨</li>
                <li><strong>å¤„ç†</strong>ï¼š<code>make_data/5</code> åŸºäºå†…å­˜çŠ¶æ€è®¡ç®—å¢é‡</li>
                <li><strong>è¾“å‡º</strong>ï¼šåŒ…å«æ–°ç‰ˆæœ¬çš„å®Œæ•´å†…å­˜çŠ¶æ€</li>
                <li><strong>å…³é”®</strong>ï¼šæ•´ä¸ªè¿‡ç¨‹æ— ä»»ä½•ç£ç›˜è¯»å–æ“ä½œ</li>
            </ol>
        </div>

        <h2>ğŸ¯ ä¸ä¼ ç»Ÿæ–¹å¼çš„ä»£ç å¯¹æ¯”</h2>

        <div class="erlang-code">
%% ä¼ ç»Ÿæ•°æ®åº“æ›´æ–°æ–¹å¼ (ä¼ªä»£ç )
update_traditional(ObjectType, ObjectId, Updates) ->
    %% 1. å…ˆè¯»å–å®Œæ•´è®°å½•
    {ok, OldRecord} = db:select(ObjectType, ObjectId),  %% ç£ç›˜è¯»å–
    %% 2. ä¿®æ”¹è®°å½•
    NewRecord = apply_updates(OldRecord, Updates),
    %% 3. å†™å›æ•°æ®åº“
    db:update(ObjectType, ObjectId, NewRecord).         %% ç£ç›˜å†™å…¥

%% CRAQå¢é‡æ›´æ–°æ–¹å¼ (å®é™…ä»£ç )
update_craq(UpdateList, Timestamp, State=#eh_data_state{data=Data}) ->
    %% ç›´æ¥åŸºäºå†…å­˜çŠ¶æ€è®¡ç®—å¢é‡ï¼Œæ— ç£ç›˜è¯»å–
    {_, {_, DIL0}, Q0, D0} = eh_data_util:make_data(UpdateList, Timestamp, 
                                                    StateInfo, TQ0, Data),
    %% ä»…è¿›è¡Œç£ç›˜å†™å…¥æ“ä½œ
    write_data(Timestamp, DIL0, D0, Q0, State).
        </div>

        <h2>ğŸ”§ å‡½æ•°è°ƒç”¨é“¾åˆ†æ</h2>

        <div class="function-signature">
eh_system_server:handle_cast({eh_update, ...})
  â†“
eh_repl_data_manager_api:update(eh_ready, Timestamp, UpdateList)
  â†“
eh_data_server:handle_call({eh_update, {eh_ready, Timestamp, UpdateList}})
  â†“
eh_data_util:make_data(UpdateList, Timestamp, StateInfo, TQ0, Data)
  â†“
make_data_acc(ObjectType, ObjectId, Timestamp, Columns, ...)
  â†“
add_data(StorageData, Q0, StateInfo, D0)
  â†“
add_key_value(StorageData, D0)  %% çº¯å†…å­˜æ“ä½œï¼Œæ— ç£ç›˜è¯»å–
        </div>

        <h2>ğŸ“ˆ æ€§èƒ½ä¼˜åŠ¿çš„ä»£ç ä½“ç°</h2>

        <div class="summary">
            <h3>ğŸ’¡ Erlangä»£ç å±‚é¢çš„æ€§èƒ½ä¼˜åŒ–</h3>
            
            <div class="key-point">
                <h4>ğŸš€ 1. å†…å­˜æ“ä½œä¼˜åŒ–</h4>
                <ul>
                    <li><strong>MapæŸ¥æ‰¾</strong>ï¼š<code>maps:find(Key, M0)</code> - O(log n)å¤æ‚åº¦</li>
                    <li><strong>é˜Ÿåˆ—æ“ä½œ</strong>ï¼š<code>queue:in(Value, Q1)</code> - O(1)å¤æ‚åº¦</li>
                    <li><strong>æ— ç³»ç»Ÿè°ƒç”¨</strong>ï¼šæ•´ä¸ªæ›´æ–°è¿‡ç¨‹æ— file:readè°ƒç”¨</li>
                </ul>
            </div>

            <div class="key-point">
                <h4>ğŸ“Š 2. æ•°æ®ç»“æ„ä¼˜åŒ–</h4>
                <ul>
                    <li><strong>ç‰ˆæœ¬åŒ–é˜Ÿåˆ—</strong>ï¼šæ¯ä¸ªå¯¹è±¡ç»´æŠ¤ç‰ˆæœ¬å†å²é˜Ÿåˆ—</li>
                    <li><strong>å¢é‡è¿½åŠ </strong>ï¼šæ–°ç‰ˆæœ¬è¿½åŠ åˆ°é˜Ÿåˆ—ï¼Œä¿ç•™å†å²</li>
                    <li><strong>æƒ°æ€§æ¸…ç†</strong>ï¼šå†å²ç‰ˆæœ¬æŒ‰éœ€æ¸…ç†ï¼Œä¸å½±å“æ›´æ–°æ€§èƒ½</li>
                </ul>
            </div>

            <div class="key-point">
                <h4>âš¡ 3. å‡½æ•°å¼ç¼–ç¨‹ä¼˜åŠ¿</h4>
                <ul>
                    <li><strong>ä¸å¯å˜æ•°æ®</strong>ï¼šé¿å…æ•°æ®ç«äº‰å’Œé”å¼€é”€</li>
                    <li><strong>çº¯å‡½æ•°è®¾è®¡</strong>ï¼š<code>make_data/5</code>ä¸ºçº¯å‡½æ•°ï¼Œæ˜“äºæµ‹è¯•å’Œä¼˜åŒ–</li>
                    <li><strong>å°¾é€’å½’ä¼˜åŒ–</strong>ï¼š<code>make_data_acc/5</code>ä½¿ç”¨å°¾é€’å½’ï¼Œå†…å­˜æ•ˆç‡é«˜</li>
                </ul>
            </div>
        </div>

        <h2>ğŸ¯ æ€»ç»“</h2>

        <div class="summary">
            <p><strong>CRAQçš„"ä¸éœ€è¦å…ˆè¯»å–å®Œæ•´è®°å½•"æœºåˆ¶åœ¨Erlangä»£ç ä¸­çš„å…·ä½“ä½“ç°ï¼š</strong></p>
            
            <ol>
                <li><strong>çŠ¶æ€ç»´æŠ¤</strong>ï¼š<code>#eh_data_state{data=Data}</code> ç»´æŠ¤å®Œæ•´å†…å­˜çŠ¶æ€</li>
                <li><strong>å¢é‡è®¡ç®—</strong>ï¼š<code>eh_data_util:make_data/5</code> åŸºäºå†…å­˜çŠ¶æ€è®¡ç®—å¢é‡</li>
                <li><strong>ç‰ˆæœ¬è¿½åŠ </strong>ï¼š<code>add_key_value/2</code> è¿½åŠ æ–°ç‰ˆæœ¬è€Œéè¦†ç›–</li>
                <li><strong>çº¯å†…å­˜æ“ä½œ</strong>ï¼šæ•´ä¸ªæ›´æ–°æµç¨‹æ— ä»»ä½•ç£ç›˜è¯»å–è°ƒç”¨</li>
                <li><strong>å‡½æ•°å¼è®¾è®¡</strong>ï¼šåˆ©ç”¨Erlangä¸å¯å˜æ•°æ®ç‰¹æ€§å®ç°é«˜æ•ˆå¹¶å‘</li>
            </ol>
            
            <p>è¿™ç§è®¾è®¡é€šè¿‡ç²¾å¿ƒçš„æ•°æ®ç»“æ„å’Œç®—æ³•è®¾è®¡ï¼Œåœ¨Erlangè¯­è¨€å±‚é¢å®ç°äº†é«˜æ€§èƒ½çš„å¢é‡æ›´æ–°æœºåˆ¶ï¼Œä¸ºåˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿæä¾›äº†é‡è¦çš„æŠ€æœ¯å‚è€ƒã€‚</p>
        </div>
    </div>

<!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="back-to-top" style="
    position: fixed;
    bottom: 30px;
    right: 30px;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #00d4ff, #7c3aed);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 20px rgba(0, 212, 255, 0.3);
    transition: all 0.3s ease;
    z-index: 999;
    opacity: 0;
    transform: translateY(20px);
" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" 
   onmouseover="this.style.transform='translateY(-5px) scale(1.1)'" 
   onmouseout="this.style.transform='translateY(0) scale(1)'">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="white">
        <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
    </svg>
</div>

<script>
// å›åˆ°é¡¶éƒ¨æŒ‰é’®æ˜¾ç¤º/éšè—é€»è¾‘
window.addEventListener('scroll', function() {
    const backToTop = document.getElementById('back-to-top');
    if (window.scrollY > 300) {
        backToTop.style.opacity = '1';
        backToTop.style.transform = 'translateY(0)';
    } else {
        backToTop.style.opacity = '0';
        backToTop.style.transform = 'translateY(20px)';
    }
});
</script>

</body>
</html>